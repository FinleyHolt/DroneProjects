# Industrial Training World Configuration
# Flyby F-11 RL Training Environment

world:
  name: "flyby_industrial"
  sdf_file: "industrial_training.sdf"
  description: "Industrial/warehouse environment with containers, cranes, and restricted zones"
  dimensions:
    x_min: -175
    x_max: 175
    y_min: -175
    y_max: 175
    z_min: 0
    z_max: 80

# Spherical coordinates for GPS simulation
coordinates:
  latitude_deg: 33.7701
  longitude_deg: -118.1937
  elevation: 5
  frame: ENU

spawn_points:
  - name: "default"
    pose: [0, 0, 0.5, 0, 0, 0]
    description: "Central loading area"
  - name: "warehouse_1_roof"
    pose: [-80, -60, 16, 0, 0, 0]
    description: "On warehouse 1 rooftop"
  - name: "distribution_roof"
    pose: [0, 80, 21, 0, 0, 0]
    description: "On distribution center rooftop"
  - name: "container_yard"
    pose: [0, -100, 0.5, 0, 0, 0]
    description: "Near container stacks"

landing_zones:
  - name: "loading_primary"
    position: [0, 0, 0]
    radius: 4.0
    type: "primary"
    surface: "concrete"
  - name: "warehouse_1_rooftop"
    position: [-80, -60, 15]
    radius: 3.0
    type: "rooftop"
    surface: "flat_roof"
  - name: "distribution_rooftop"
    position: [0, 80, 20]
    radius: 3.0
    type: "rooftop"
    surface: "flat_roof"
  - name: "parking_emergency"
    position: [140, 140, 0]
    radius: 5.0
    type: "emergency"
    surface: "asphalt"

no_fly_zones:
  - name: "chemical_storage"
    type: "cylinder"
    center: [-100, 80, 0]
    radius: 30
    height: 40
    reason: "Hazardous materials storage - no drone operations"
    severity: "critical"
  - name: "active_crane_zone"
    type: "box"
    min: [55, -140, 0]
    max: [105, -100, 45]
    reason: "Active crane operations - collision hazard"
    severity: "critical"

obstacles:
  warehouses:
    - name: "warehouse_1"
      type: "box"
      pose: [-80, -60, 7.5]
      size: [80, 50, 15]
    - name: "warehouse_2"
      type: "box"
      pose: [80, -60, 6]
      size: [70, 45, 12]
    - name: "distribution_center"
      type: "box"
      pose: [0, 80, 10]
      size: [100, 60, 20]
    - name: "chemical_storage_building"
      type: "box"
      pose: [-100, 80, 5]
      size: [40, 30, 10]
    - name: "office_building"
      type: "box"
      pose: [120, 100, 10]
      size: [30, 25, 20]
  containers:
    - name: "stack_1"
      pose: [-30, -120, 0]
      stack_height: 2
    - name: "stack_2"
      pose: [0, -120, 0]
      stack_height: 3
    - name: "stack_3"
      pose: [30, -120, 0]
      stack_height: 2
    - name: "side_row"
      pose: [-140, 7.5, 0]
      orientation: "vertical"
      count: 2
  cranes:
    - name: "gantry_crane"
      pose: [80, -120, 0]
      beam_height: 31
      span: 40
  equipment:
    - name: "forklift_1"
      pose: [-60, -30, 1]
    - name: "forklift_2"
      pose: [40, 50, 1]
    - name: "storage_tanks"
      positions: [[140, -80], [155, -80]]
      radius: 5
      height: 10

training_parameters:
  episode_timeout: 300  # seconds
  max_altitude: 60  # meters
  min_altitude: 1  # meters
  min_obstacle_distance: 3.5  # meters
  reward_weights:
    goal_reached: 100.0
    nfz_violation: -250.0  # Higher penalty for industrial NFZ
    collision: -500.0
    geofence_violation: -300.0
    time_penalty: -0.1
    smooth_flight_bonus: 0.5

environment:
  type: "industrial"
  ground_texture: "concrete"
  lighting: "overcast"
  complexity: "high"

# Domain randomization parameters
randomization:
  enabled: true

  obstacle_placement:
    enabled: true
    position_noise: 12  # meters (industrial has structured layout)
    rotation_noise: 0.2  # radians (containers align to grid)

  nfz_placement:
    enabled: true
    position_noise: 15  # meters
    size_noise: 0.15  # fraction of original size

  lighting:
    enabled: true
    options: ["overcast", "day", "dusk"]

  spawn_variation:
    enabled: true
    position_noise: 5  # meters
