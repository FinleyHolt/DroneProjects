# Coastal/Maritime Training World Configuration
# Flyby F-11 RL Training Environment

world:
  name: "flyby_coastal"
  sdf_file: "coastal_training.sdf"
  description: "Coastal environment with water, piers, boats, and maritime infrastructure"
  dimensions:
    x_min: -200
    x_max: 200
    y_min: -200
    y_max: 200
    z_min: -1  # Water depth
    z_max: 80

# Spherical coordinates for GPS simulation
coordinates:
  latitude_deg: 32.7157
  longitude_deg: -117.1611
  elevation: 0
  frame: ENU

# Water/land boundary
terrain:
  water_line_y: 0  # y < 0 is water, y >= 0 is land
  beach_transition_y: [0, 10]

spawn_points:
  - name: "default"
    pose: [0, 50, 0.5, 0, 0, 0]
    description: "Beach area behind pier"
  - name: "pier"
    pose: [0, -50, 1.5, 0, 0, 0]
    description: "On main pier"
  - name: "floating_platform"
    pose: [-50, -80, 1, 0, 0, 0]
    description: "On floating landing platform"
  - name: "lighthouse_area"
    pose: [140, 50, 0.5, 0, 0, 0]
    description: "Near lighthouse on land"

landing_zones:
  - name: "beach_primary"
    position: [0, 50, 0]
    radius: 4.0
    type: "primary"
    surface: "sand"
  - name: "pier_landing"
    position: [0, -50, 1]
    radius: 2.5
    type: "pier"
    surface: "wood"
  - name: "floating_platform"
    position: [-50, -80, 0.3]
    radius: 3.0
    type: "water_platform"
    surface: "platform"
  - name: "beach_emergency"
    position: [-150, 100, 0]
    radius: 5.0
    type: "emergency"
    surface: "sand"

no_fly_zones:
  - name: "shipping_lane"
    type: "box"
    min: [-200, -180, 0]
    max: [200, -120, 50]
    reason: "Active shipping lane - large vessel traffic"
    severity: "critical"
  - name: "restricted_harbor"
    type: "cylinder"
    center: [100, -30, 0]
    radius: 25
    height: 40
    reason: "Restricted harbor operations area"
    severity: "high"

obstacles:
  maritime_structures:
    - name: "main_pier"
      type: "box"
      pose: [0, -50, 0.5]
      size: [80, 8, 1]
    - name: "dock_east"
      type: "box"
      pose: [100, -30, 0.4]
      size: [50, 6, 0.8]
      orientation: 1.57  # rotated 90 degrees
    - name: "dock_west"
      type: "box"
      pose: [-100, -40, 0.4]
      size: [40, 5, 0.8]
      orientation: 1.57
  boats:
    - name: "fishing_boat_1"
      type: "box"
      pose: [-25, -55, 0]
      size: [10, 4, 3]
    - name: "fishing_boat_2"
      type: "box"
      pose: [25, -58, 0]
      size: [8, 3.5, 2.5]
    - name: "sailboat"
      type: "complex"
      pose: [-80, -100, 0]
      mast_height: 12
    - name: "cargo_vessel"
      type: "box"
      pose: [50, -150, 0]
      size: [50, 15, 12]
    - name: "kayak"
      type: "box"
      pose: [60, -30, 0]
      size: [4, 0.8, 0.4]
  buildings:
    - name: "harbor_master"
      type: "box"
      pose: [0, 40, 5]
      size: [20, 15, 10]
    - name: "boat_house"
      type: "box"
      pose: [-80, 30, 3.5]
      size: [15, 12, 7]
    - name: "lighthouse"
      type: "cylinder"
      pose: [150, 50, 12.5]
      radius: 4
      height: 25
    - name: "beach_hut_1"
      type: "box"
      pose: [-50, 60, 2]
      size: [5, 4, 4]
    - name: "beach_hut_2"
      type: "box"
      pose: [80, 70, 2]
      size: [5, 4, 4]

training_parameters:
  episode_timeout: 360  # seconds
  max_altitude: 60  # meters
  min_altitude: 1  # meters (2m over water)
  min_water_altitude: 2  # meters
  min_obstacle_distance: 4.0  # meters
  reward_weights:
    goal_reached: 100.0
    nfz_violation: -200.0
    collision: -500.0
    water_landing: -400.0  # Penalty for landing in water (not on platform)
    geofence_violation: -300.0
    time_penalty: -0.08
    smooth_flight_bonus: 0.5

environment:
  type: "coastal"
  ground_texture: "sand"
  water_present: true
  lighting: "bright_day"
  complexity: "medium"
  wind_exposure: "high"

# Domain randomization parameters
randomization:
  enabled: true

  obstacle_placement:
    enabled: true
    position_noise: 20  # meters
    rotation_noise: 0.5  # radians (boats can rotate)

  nfz_placement:
    enabled: true
    position_noise: 25  # meters
    size_noise: 0.2  # fraction of original size

  lighting:
    enabled: true
    options: ["bright_day", "day", "dusk", "overcast"]

  ground_texture:
    enabled: true
    options: ["sand", "rocky_beach"]

  spawn_variation:
    enabled: true
    position_noise: 6  # meters
