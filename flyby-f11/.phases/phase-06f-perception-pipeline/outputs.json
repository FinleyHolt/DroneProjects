{
  "phase": "06f",
  "name": "Production Perception Pipeline",
  "outputs": {
    "files": [
      {
        "path": "evaluation/isaac-sim-px4/perception/__init__.py",
        "description": "Perception package init"
      },
      {
        "path": "evaluation/isaac-sim-px4/perception/detector.py",
        "description": "YOLO detector wrapper with ground truth support"
      },
      {
        "path": "evaluation/isaac-sim-px4/perception/spatial_encoder.py",
        "description": "8x8 spatial grid encoder (384 dims)"
      },
      {
        "path": "evaluation/isaac-sim-px4/perception/scene_statistics.py",
        "description": "Aggregate scene metrics (32 dims)"
      },
      {
        "path": "evaluation/isaac-sim-px4/perception/temporal_tracker.py",
        "description": "Multi-frame IoU tracker"
      },
      {
        "path": "evaluation/isaac-sim-px4/perception/perception_encoder.py",
        "description": "Main encoder combining all components (516 dims)"
      },
      {
        "path": "evaluation/isaac-sim-px4/perception/tptp_generator.py",
        "description": "TPTP fact generator for Vampire"
      },
      {
        "path": "evaluation/isaac-sim-px4/perception/config/detection_classes.yaml",
        "description": "Detection class to ontology mapping"
      },
      {
        "path": "evaluation/isaac-sim-px4/perception/config/perception_config.yaml",
        "description": "Perception pipeline configuration"
      },
      {
        "path": "evaluation/isaac-sim-px4/perception/tests/test_detector.py",
        "description": "Detector unit tests"
      },
      {
        "path": "evaluation/isaac-sim-px4/perception/tests/test_spatial_encoder.py",
        "description": "Spatial encoder unit tests"
      },
      {
        "path": "evaluation/isaac-sim-px4/perception/tests/test_perception_encoder.py",
        "description": "Integration tests"
      },
      {
        "path": "evaluation/isaac-sim-px4/perception/tests/test_tptp_generator.py",
        "description": "TPTP generator tests"
      }
    ],
    "capabilities": [
      {
        "name": "yolo_detection",
        "description": "YOLOv11n object detection (or ground truth)",
        "latency_ms": 12,
        "vram_mb": 500
      },
      {
        "name": "spatial_encoding",
        "description": "8x8 grid capturing ALL detections",
        "output_dim": 384,
        "no_information_loss": true
      },
      {
        "name": "scene_statistics",
        "description": "Aggregate safety and mission metrics",
        "output_dim": 32
      },
      {
        "name": "temporal_tracking",
        "description": "Multi-frame detection consistency",
        "features": ["velocity_estimation", "track_confidence", "lost_track_detection"]
      },
      {
        "name": "tptp_generation",
        "description": "TPTP facts for ALL detections",
        "vampire_compatible": true,
        "safety_facts": ["personInDangerZone", "crowdPresent", "approachingObject"]
      }
    ],
    "observation_space": {
      "priority_detections": {
        "dims": 100,
        "description": "Top-10 priority detections × 10 features each"
      },
      "spatial_grid": {
        "dims": 384,
        "description": "8×8 grid × 6 channels (person_count, obstacle_count, distance, motion_x, motion_y, priority)"
      },
      "scene_statistics": {
        "dims": 32,
        "description": "Class counts (8) + Safety metrics (8) + Mission metrics (8) + Temporal metrics (8)"
      },
      "total": {
        "dims": 516,
        "combined_with_base": 544
      }
    },
    "performance": {
      "encoding_latency_ms": "<20",
      "vram_usage_mb": "<710",
      "detections_per_frame": "unlimited",
      "tracking_fps": 20
    }
  },
  "verification": {
    "script": ".phases/phase-06f-perception-pipeline/verification.sh",
    "tests": [
      "file_structure_check",
      "python_import_check",
      "unit_tests",
      "encoding_speed_test",
      "output_dimensions_check",
      "tptp_generation_check"
    ],
    "success_criteria": [
      "All files created",
      "All imports succeed",
      "Unit tests pass",
      "Encoding < 20ms",
      "Output dimension = 516",
      "Valid TPTP facts generated"
    ]
  }
}
